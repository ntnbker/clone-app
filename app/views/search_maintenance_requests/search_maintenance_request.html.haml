- edit_agency, edit_agency_admin, edit_trady, edit_agent, user_name = nil

- searchText = params[:query]

  -if current_user.logged_in_as("AgencyAdmin")
    -edit_agency = edit_agency_path(current_user.agency_admin.agency.id)
    -edit_agency_admin = edit_agency_admin_path(current_user.agency_admin.id)
    -user_name = (current_user.agency_admin.first_name || '') + ' ' + (current_user.agency_admin.last_name)

  -elsif current_user.logged_in_as("Agent")
    -edit_agent = edit_agent_path(current_user.agent.id) 
    -user_name = current_user.agent.name || ''

- images = profile_and_company_avatar

= react_component(:SearchResultMaintenanceRequest, { link: @link, maintenance_requests: @maintenance_requests, :edit_agency => edit_agency, :edit_agency_admin => edit_agency_admin, :edit_agent => @edit_agent, :user_name => user_name, :images => images, logout_path: logout_path, :searchText => params[:query], :authenticity_token => form_authenticity_token, :current_user => @current_user, :current_role => @current_user.current_role, :images => images })
