-if logged_in? && current_user.logged_in_as("AgencyAdmin")
  =link_to "Agency Account Settings", edit_agency_path(current_user.agency_admin.agency.id)
  =link_to "Agency Admin Account Settings", edit_agency_admin_path(current_user.agency_admin.agency.id)
-elsif logged_in? && current_user.logged_in_as("Trady")
  =link_to "Trady Account Settings", edit_trady_path(current_user.trady.id)
-elsif logged_in? && current_user.logged_in_as("Agent")
  =link_to "Agent Account Settings", edit_agent_path(current_user.agent.id)
  
- searchText = params[:query]
- if logged_in?
  - if local_assigns.has_key? :expanded
    = react_component('Header', {logged_in:logged_in?,current_user: current_user,role:current_user ? current_user.current_role.role : nil,  user_agency_admin: current_user.logged_in_as("AgencyAdmin"), user_agent: current_user.logged_in_as("Agent"), user_trady: current_user.logged_in_as("Trady"), user_tenant: current_user.logged_in_as("Tenant"), user_landlord: current_user.logged_in_as("Landlord"), menu_login_path: menu_login_path,new_agency_path: new_agency_path,root_path: root_path,maintenance_requests_path: maintenance_requests_path,conversations_path: conversations_path,logout_path: logout_path, expanded: true, searchText: searchText})

  - elsif !local_assigns.has_key? :expanded
    = react_component('Header', {logged_in: logged_in?,current_user: current_user,role:current_user ? current_user.current_role.role : nil, user_agency_admin: current_user.logged_in_as("AgencyAdmin"), user_agent: current_user.logged_in_as("Agent"), user_trady: current_user.logged_in_as("Trady"), user_tenant: current_user.logged_in_as("Tenant"), user_landlord: current_user.logged_in_as("Landlord"), menu_login_path: menu_login_path,new_agency_path: new_agency_path,root_path: root_path,maintenance_requests_path: maintenance_requests_path,conversations_path: conversations_path,logout_path: logout_path, expanded: false, searchText: searchText})
- else
  - if local_assigns.has_key? :expanded
    = react_component('Header', {logged_in:logged_in?,current_user: current_user,role:current_user ? current_user.current_role.role : nil, menu_login_path: menu_login_path,new_agency_path: new_agency_path,root_path: root_path,maintenance_requests_path: maintenance_requests_path,conversations_path: conversations_path,logout_path: logout_path, expanded: true, searchText: searchText})

  - elsif !local_assigns.has_key? :expanded
    = react_component('Header', {logged_in: logged_in?,current_user: current_user,role:current_user ? current_user.current_role.role : nil, menu_login_path: menu_login_path,new_agency_path: new_agency_path,root_path: root_path,maintenance_requests_path: maintenance_requests_path,conversations_path: conversations_path,logout_path: logout_path, expanded: false, searchText: searchText})
